function show_inputs_relevant_to_selected_year(){get_currency_year()>1970?($(".newer-currencies").show(),$(".older-currencies").hide()):get_currency_year()<=1970&&($(".newer-currencies").hide(),$(".older-currencies").show())}function change_fieldset_text(){$("#currency-legend").text("Enter currency to show its purchasing power in "+get_currency_year()),$("#currency-submit").val("Show purchasing power in "+get_currency_year())}function build_blockquote(e,r){return"<blockquote><p>"+e+"</p><p><cite><a href='./"+r+"-century.php'>Read more about the "+r+" century. </a></p></cite></blockquote>"}function currency_output(){var e=get_user_inputs(),r=currency_formula(),i="",c=r.money.toLocaleString("en-GB",{style:"currency",currency:"GBP"});"21st"!=r.century&&(i=build_blockquote(conversion_data.century_intros[e.century],e.century));var t="<div class='currency' id='currency-result'><h3 id='currency-result-header'>In 2017, this is worth approximately: </h3><span id='currency-large-text'>"+c+"</span><h3>In "+e.year+", you could buy one of the following with "+r.bp_string+": </h3>"+build_currency_output_html("Horses",r.horses,"","./img/horse.png")+build_currency_output_html("Cows",r.cows,"","./img/cow.png")+build_currency_output_html("Wool",r.wool,"stones","./img/ewe.png")+build_currency_output_html("Wheat",r.wheat,"quarters","./img/wheat.png")+build_currency_output_html("Wages",r.wage,"days (skilled tradesman)","./img/coinage.png")+i+"</div>";$("#currency-result").html(t),$("#currency-result").fadeIn()}function build_currency_output_html(e,r,i,c){return"<h4> <img src='"+c+"'/>"+e+": "+r+" "+i+"</h4>"}function set_validation_message(e){$("#currency-validation").text(e),$("#currency-validation").show()}function check_validation(){var e=get_currency_year(),r=get_currency_pounds(),i=get_currency_shillings(),c=get_currency_old_pence(),t=get_currency_new_pence();if(!Number.isInteger(e))return set_validation_message("Please enter a whole number into this field."),!1;if(e<=1970){if(e%10!=0)return set_validation_message("Please enter a year ending in 0. For example 1270."),!1}else if(e>1970&&e%5!=0&&2017!=e)return set_validation_message("Please enter a year ending in 5 or 0. For example 1975 or 1980."),!1;return e<1270?(set_validation_message("Please enter a year above 1270."),!1):!Number.isInteger(r)||r<0?(set_validation_message("Please enter a positive whole number into the pounds field."),!1):!Number.isInteger(i)||i<0||i>19?(set_validation_message("Please enter a whole number between 0 and 19 into the shillings field. "),!1):!Number.isInteger(c)||c<0||c>11?(set_validation_message("Please enter a whole between 0 and 11 into the pence field."),!1):!Number.isInteger(t)||t<0||t>99?(set_validation_message("Please enter a whole number between 0 and 99 into the pence field."),!1):($("#currency-validation").hide(),!0)}function old_money_to_new_formula(){var e,r=get_user_inputs();return r.year<=1970?e=(r.pounds+r.shillings/20+r.old_pence/240)*r.inflation:r.year>1970&&(e=2017!=r.year?(r.pounds+r.new_pence)*r.inflation:r.pounds+r.new_pence),2017!=r.year&&(e*=conversion_data[2017].inflation),e}function currency_formula(){var e,r,i=get_user_inputs(),c=old_money_to_new_formula();return i.year<1975?(e=i.pounds+i.shillings/20+i.old_pence/240,r="Â£"+i.pounds+", "+i.shillings+"s & "+i.old_pence+"d"):r=(e=i.pounds+i.new_pence).toLocaleString("en-GB",{style:"currency",currency:"GBP"}),{horses:Math.floor(e/get_horse_price(i.year)),cows:Math.floor(e/get_cow_price(i.year)),wool:Math.floor(e/get_wool_price(i.year)),wheat:Math.floor(e/get_wheat_price(i.year)),wage:Math.floor(e/get_wage_price(i.year)),money:c,bp_string:r}}function get_inflation_rate(e){return conversion_data[e].inflation}function get_horse_price(e){return conversion_data[e].horse_price}function get_cow_price(e){return conversion_data[e].cow_price}function get_wool_price(e){return conversion_data[e].wool_price}function get_wheat_price(e){return conversion_data[e].wheat_price}function get_wage_price(e){return conversion_data[e].wage_price}function get_century(e){return e>=2e3?"21st":e>=1900?"20th":e>=1800?"19th":e>=1700?"18th":e>=1600?"17th":e>=1500?"16th":e>=1400?"15th":e>=1300?"14th":e>=1200?"13th":void 0}function get_currency_year(){return parseInt($("#currency-year").val(),10)}function get_currency_pounds(){return parseInt($("#currency-pounds").val(),10)}function get_currency_shillings(){return parseInt($("#currency-shillings").val(),10)}function get_currency_old_pence(){return parseInt($("#currency-old-pence").val(),10)}function get_currency_new_pence(){return parseInt($("#currency-new-pence").val(),10)/100}function get_user_inputs(){return{year:get_currency_year(),pounds:get_currency_pounds(),shillings:get_currency_shillings(),old_pence:get_currency_old_pence(),new_pence:get_currency_new_pence(),inflation:get_inflation_rate(get_currency_year()),century:get_century(get_currency_year())}}var conversion_data={1270:{inflation:532.72,horse_price:.76,cow_price:.35,wool_price:.13,wheat_price:.16,wage_price:.01,century:"13th"},1280:{inflation:506.62,horse_price:.85,cow_price:.45,wool_price:.23,wheat_price:.26,wage_price:.01,century:"13th"},1290:{inflation:536.83,horse_price:.85,cow_price:.45,wool_price:.23,wheat_price:.26,wage_price:.01,century:"13th"},1300:{inflation:517.54,horse_price:.85,cow_price:.45,wool_price:.23,wheat_price:.26,wage_price:.01,century:"14th"},1310:{inflation:446.49,horse_price:.85,cow_price:.45,wool_price:.23,wheat_price:.26,wage_price:.01,century:"14th"},1320:{inflation:335.83,horse_price:.85,cow_price:.45,wool_price:.23,wheat_price:.26,wage_price:.01,century:"14th"},1330:{inflation:447.68,horse_price:.69,cow_price:.37,wool_price:.14,wheat_price:.37,wage_price:.02,century:"14th"},1340:{inflation:546.73,horse_price:.69,cow_price:.37,wool_price:.14,wheat_price:.37,wage_price:.02,century:"14th"},1350:{inflation:428.64,horse_price:.69,cow_price:.37,wool_price:.14,wheat_price:.37,wage_price:.02,century:"14th"},1360:{inflation:363.44,horse_price:.69,cow_price:.37,wool_price:.14,wheat_price:.37,wage_price:.02,century:"14th"},1370:{inflation:358.01,horse_price:.69,cow_price:.37,wool_price:.14,wheat_price:.37,wage_price:.02,century:"14th"},1380:{inflation:450.48,horse_price:1.27,cow_price:.58,wool_price:.18,wheat_price:.31,wage_price:.02,century:"14th"},1390:{inflation:483.3,horse_price:1.27,cow_price:.58,wool_price:.18,wheat_price:.31,wage_price:.02,century:"14th"},1400:{inflation:447.28,horse_price:1.27,cow_price:.58,wool_price:.18,wheat_price:.31,wage_price:.02,century:"15th"},1410:{inflation:459.93,horse_price:1.27,cow_price:.58,wool_price:.18,wheat_price:.31,wage_price:.02,century:"15th"},1420:{inflation:469.35,horse_price:1.27,cow_price:.58,wool_price:.18,wheat_price:.31,wage_price:.02,century:"15th"},1430:{inflation:455.77,horse_price:.76,cow_price:.4,wool_price:.14,wheat_price:.37,wage_price:.03,century:"15th"},1440:{inflation:469.35,horse_price:.76,cow_price:.4,wool_price:.14,wheat_price:.37,wage_price:.03,century:"15th"},1450:{inflation:455.77,horse_price:.76,cow_price:.4,wool_price:.14,wheat_price:.37,wage_price:.03,century:"15th"},1460:{inflation:469.35,horse_price:.76,cow_price:.4,wool_price:.14,wheat_price:.37,wage_price:.03,century:"15th"},1470:{inflation:500.58,horse_price:.76,cow_price:.4,wool_price:.14,wheat_price:.37,wage_price:.03,century:"15th"},1480:{inflation:504.59,horse_price:1.41,cow_price:.38,wool_price:.11,wheat_price:.4,wage_price:.03,century:"15th"},1490:{inflation:488.93,horse_price:1.41,cow_price:.38,wool_price:.11,wheat_price:.4,wage_price:.03,century:"15th"},1500:{inflation:486.1,horse_price:1.41,cow_price:.38,wool_price:.11,wheat_price:.4,wage_price:.03,century:"16th"},1510:{inflation:483.77,horse_price:1.41,cow_price:.38,wool_price:.11,wheat_price:.4,wage_price:.03,century:"16th"},1520:{inflation:379.58,horse_price:1.41,cow_price:.38,wool_price:.11,wheat_price:.4,wage_price:.03,century:"16th"},1530:{inflation:322.1,horse_price:4.75,cow_price:1.25,wool_price:.32,wheat_price:.93,wage_price:.03,century:"16th"},1540:{inflation:307.56,horse_price:4.75,cow_price:1.25,wool_price:.32,wheat_price:.93,wage_price:.03,century:"16th"},1550:{inflation:200.51,horse_price:4.75,cow_price:1.25,wool_price:.32,wheat_price:.93,wage_price:.03,century:"16th"},1560:{inflation:170.3,horse_price:4.75,cow_price:1.25,wool_price:.32,wheat_price:.93,wage_price:.03,century:"16th"},1570:{inflation:173.89,horse_price:4.75,cow_price:1.25,wool_price:.32,wheat_price:.93,wage_price:.03,century:"16th"},1580:{inflation:149.31,horse_price:8.24,cow_price:1.86,wool_price:.34,wheat_price:1.8,wage_price:.05,century:"16th"},1590:{inflation:125.29,horse_price:8.24,cow_price:1.86,wool_price:.34,wheat_price:1.8,wage_price:.05,century:"16th"},1600:{inflation:100.64,horse_price:8.24,cow_price:1.86,wool_price:.34,wheat_price:1.8,wage_price:.05,century:"17th"},1610:{inflation:97.88,horse_price:8.24,cow_price:1.86,wool_price:.34,wheat_price:1.8,wage_price:.05,century:"17th"},1620:{inflation:96,horse_price:8.24,cow_price:1.86,wool_price:.34,wheat_price:1.8,wage_price:.05,century:"17th"},1630:{inflation:89.16,horse_price:6.37,cow_price:5.39,wool_price:.8,wheat_price:3.83,wage_price:.07,century:"17th"},1640:{inflation:85.8,horse_price:6.37,cow_price:5.39,wool_price:.8,wheat_price:3.83,wage_price:.07,century:"17th"},1650:{inflation:75.56,horse_price:6.37,cow_price:5.39,wool_price:.8,wheat_price:3.83,wage_price:.07,century:"17th"},1660:{inflation:76.77,horse_price:6.37,cow_price:5.39,wool_price:.8,wheat_price:3.83,wage_price:.07,century:"17th"},1670:{inflation:83.05,horse_price:6.37,cow_price:5.39,wool_price:.8,wheat_price:3.83,wage_price:.07,century:"17th"},1680:{inflation:83.54,horse_price:5.38,cow_price:4.16,wool_price:.6,wheat_price:2,wage_price:.09,century:"17th"},1690:{inflation:87.47,horse_price:5.38,cow_price:4.16,wool_price:.6,wheat_price:2,wage_price:.09,century:"17th"},1700:{inflation:78.09,horse_price:5.38,cow_price:4.16,wool_price:.6,wheat_price:2,wage_price:.09,century:"18th"},1710:{inflation:76.59,horse_price:5.38,cow_price:4.16,wool_price:.6,wheat_price:2,wage_price:.09,century:"18th"},1720:{inflation:84.75,horse_price:5.38,cow_price:4.16,wool_price:.6,wheat_price:2,wage_price:.09,century:"18th"},1730:{inflation:85.98,horse_price:6.85,cow_price:4.67,wool_price:.47,wheat_price:1.63,wage_price:.1,century:"18th"},1740:{inflation:86.29,horse_price:6.85,cow_price:4.67,wool_price:.47,wheat_price:1.63,wage_price:.1,century:"18th"},1750:{inflation:85.16,horse_price:6.85,cow_price:4.67,wool_price:.47,wheat_price:1.63,wage_price:.1,century:"18th"},1760:{inflation:74.79,horse_price:6.85,cow_price:4.67,wool_price:.47,wheat_price:1.63,wage_price:.1,century:"18th"},1770:{inflation:63.69,horse_price:6.85,cow_price:4.67,wool_price:.47,wheat_price:1.63,wage_price:.1,century:"18th"},1780:{inflation:62.85,horse_price:10.5,cow_price:5,wool_price:.9,wheat_price:5.69,wage_price:.15,century:"18th"},1790:{inflation:56.03,horse_price:10.5,cow_price:5,wool_price:.9,wheat_price:5.69,wage_price:.15,century:"18th"},1800:{inflation:32.17,horse_price:10.5,cow_price:5,wool_price:.9,wheat_price:5.69,wage_price:.15,century:"19th"},1810:{inflation:33.96,horse_price:10.5,cow_price:5,wool_price:.9,wheat_price:5.69,wage_price:.15,century:"19th"},1820:{inflation:41.92,horse_price:10.5,cow_price:5,wool_price:.9,wheat_price:5.69,wage_price:.15,century:"19th"},1830:{inflation:49.49,horse_price:15,cow_price:5.34,wool_price:.66,wheat_price:2.01,wage_price:.2,century:"19th"},1840:{inflation:44.1,horse_price:15,cow_price:5.34,wool_price:.66,wheat_price:2.01,wage_price:.2,century:"19th"},1850:{inflation:58.53,horse_price:15,cow_price:5.34,wool_price:.66,wheat_price:2.01,wage_price:.2,century:"19th"},1860:{inflation:43.16,horse_price:15,cow_price:5.34,wool_price:.66,wheat_price:2.01,wage_price:.2,century:"19th"},1870:{inflation:45.7,horse_price:15,cow_price:5.34,wool_price:.66,wheat_price:2.01,wage_price:.2,century:"19th"},1880:{inflation:48.31,horse_price:27.5,cow_price:9.69,wool_price:.54,wheat_price:1.28,wage_price:.33,century:"19th"},1890:{inflation:59.89,horse_price:27.5,cow_price:9.69,wool_price:.54,wheat_price:1.28,wage_price:.33,century:"19th"},1900:{inflation:57.06,horse_price:27.5,cow_price:9.69,wool_price:.54,wheat_price:1.28,wage_price:.33,century:"20th"},1905:{inflation:57.35,horse_price:27.5,cow_price:9.69,wool_price:.54,wheat_price:1.28,wage_price:.33,century:"20th"},1910:{inflation:57.06,horse_price:27.5,cow_price:9.69,wool_price:.54,wheat_price:1.28,wage_price:.33,century:"20th"},1915:{inflation:43.06,horse_price:27.5,cow_price:9.69,wool_price:.54,wheat_price:1.28,wage_price:.33,century:"20th"},1920:{inflation:21.21,horse_price:27.5,cow_price:9.69,wool_price:.54,wheat_price:1.28,wage_price:.33,century:"20th"},1925:{inflation:29.97,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:.33,century:"20th"},1930:{inflation:33.42,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:.33,century:"20th"},1935:{inflation:36.98,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:1.42,century:"20th"},1940:{inflation:28.72,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:1.42,century:"20th"},1945:{inflation:25.95,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:1.42,century:"20th"},1950:{inflation:22.78,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:1.42,century:"20th"},1955:{inflation:17.42,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:1.42,century:"20th"},1960:{inflation:15.3,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:1.42,century:"20th"},1965:{inflation:12.86,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:1.42,century:"20th"},1970:{inflation:10.28,horse_price:255.2,cow_price:67.17,wool_price:4.44,wheat_price:5.98,wage_price:1.42,century:"20th"},1975:{inflation:5.57,horse_price:2387.37,cow_price:392.79,wool_price:5.36,wheat_price:17.36,wage_price:57.6,century:"20th"},1980:{inflation:2.85,horse_price:2387.37,cow_price:392.79,wool_price:5.36,wheat_price:17.36,wage_price:57.6,century:"20th"},1985:{inflation:2.01,horse_price:2387.37,cow_price:392.79,wool_price:5.36,wheat_price:17.36,wage_price:57.6,century:"20th"},1990:{inflation:1.51,horse_price:2387.37,cow_price:392.79,wool_price:5.36,wheat_price:17.36,wage_price:57.6,century:"20th"},1995:{inflation:1.28,horse_price:2387.37,cow_price:392.79,wool_price:5.36,wheat_price:17.36,wage_price:57.6,century:"20th"},2000:{inflation:1.12,horse_price:2387.37,cow_price:392.79,wool_price:5.36,wheat_price:17.36,wage_price:57.6,century:"21st"},2005:{inflation:1,horse_price:2387.37,cow_price:392.79,wool_price:5.36,wheat_price:17.36,wage_price:57.6,century:"21st"},2017:{inflation:1.37,horse_price:2387.37,cow_price:1200,wool_price:6.35,wage_price:100,wheat_price:1.88,century:"21st"},century_intros:{"13th":"Most peasants in the thirteenth century lived below a reasonable subsistence level and this standard declined during the century.","14th":"Between 1315 and 1322, the Great Famine, brought about by unusually prolonged periods of heavy rainfall and cold spells, killed 10-15% of the population.","15th":"A hierarchy of consumption patterns mirrored the social hierarchy. The poor bought locally and in small quantities, while the better-off ventured to small towns and provincial centres.","16th":"The sixteenth century was a period of population rise and price inflation. The social pressure on those with wealth to display it was considerable.","17th":"In the middle of the seventeenth century, the period of price and population rises ended and the country entered a period of stability in both, that was to last until the mid-eighteenth century.","18th":"One of the immediate and most important effects of the Act of Union in 1707 was the creation of a united free trade area managed from London. ","19th":"The period from the late 18th century to the mid-Victorian years witnessed a major shake up and change in both the economy and society.","20th":"The twentieth century saw the most rapid and dramatic social and economic change of any century."}};$(function(){show_inputs_relevant_to_selected_year()}),$("#currency-year").change(function(){change_fieldset_text(),show_inputs_relevant_to_selected_year()}),$("#currency-form").submit(function(e){e.preventDefault(),check_validation()&&(window.location.hash="",window.location.hash="#currency-result",currency_output())}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};